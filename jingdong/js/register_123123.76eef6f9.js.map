{"version":3,"file":"js/register_123123.76eef6f9.js","mappings":"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","sources":["webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/register/Register.vue","webpack://jingdong/./src/views/register/Register.vue?6e35"],"sourcesContent":["<template>\r\n  <div class=\"toast\">{{message}}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMessage: ''\r\n  })\r\n  const showToast = (message) => {\r\n    toastData.show = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n\r\n  const { show, toastMessage } = toRefs(toastData)\r\n  return { show, toastMessage, showToast }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 40%;\r\n  transform: translate(-50%, -50%);\r\n  padding: .1rem;\r\n  background: rgba(0, 0, 0, .35);\r\n  border-radius: .05rem;\r\n  color: $bgColor;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=2a66ba7c&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=2a66ba7c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a66ba7c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\" />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        type=\"password\"\r\n        v-model=\"ensurement\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号去登录</div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await post('/api/register', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      if (result?.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n        showToast('注册成功')\r\n      } else {\r\n        showToast('用户名已存在')\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const router = useRouter()\r\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\r\n    const handleLoginClick = () => {\r\n      router.push({ name: 'Login' })\r\n    }\r\n    return { handleLoginClick, username, password, ensurement, handleRegister, show, toastMessage, showToast }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    display: block;\r\n    margin: 0 auto .4rem auto;\r\n    width: .66rem;\r\n    height: .66rem;\r\n  }\r\n  &__input{\r\n    height: .48rem;\r\n    margin: 0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    background: #f9f9f9;\r\n    border: .01rem solid rgba(0,0,0,0.10);\r\n    border-radius: .06rem;\r\n    &__content{\r\n      line-height: .48rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n      color: rgba(0,0,0,0.5);\r\n      &::placeholder {\r\n        color: rgba(0,0,0,0.5);\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: .32rem .4rem .16rem .4rem;\r\n    line-height: .48rem;\r\n    background: $btn-bgColor;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n    border-radius: .04rem;\r\n    color: white;\r\n    font-size: .16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: #777;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=3e773d54&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=3e773d54&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3e773d54\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRefs","__exports__","render","_createElementVNode","src","_hoisted_2","placeholder","_cache","$event","$setup","username","_hoisted_3","type","password","_hoisted_4","ensurement","onClick","args","handleRegister","handleLoginClick","_createBlock","_component_Toast","key","_createCommentVNode","useRegisterEffect","router","useRouter","data","async","result","post","errno","push","name","e","console","log","components","Toast","setup"],"sourceRoot":""}