"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[479],{373:function(e,s,n){n.d(s,{A:function(){return d},g:function(){return l}});var a=n(6768),t=n(4232);const r={class:"toast"};function o(e,s,n,o,u,p){return(0,a.uX)(),(0,a.CE)("div",r,(0,t.v_)(n.message),1)}var u=n(144),p={props:["message"]};const l=()=>{const e=(0,u.Kh)({show:!1,toastMessage:""}),s=s=>{e.show=!0,e.toastMessage=s,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{show:n,toastMessage:a}=(0,u.QW)(e);return{show:n,toastMessage:a,showToast:s}};var c=n(1241);const i=(0,c.A)(p,[["render",o],["__scopeId","data-v-2a66ba7c"]]);var d=i},7504:function(e,s,n){n.r(s),n.d(s,{default:function(){return k}});var a=n(6768),t=n(5130);const r={class:"wrapper"},o={class:"wrapper__input"},u={class:"wrapper__input"},p={class:"wrapper__input"};function l(e,s,n,l,c,i){const d=(0,a.g2)("Toast");return(0,a.uX)(),(0,a.CE)("div",r,[s[5]||(s[5]=(0,a.Lk)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1)),(0,a.Lk)("div",o,[(0,a.bo)((0,a.Lk)("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=e=>l.username=e)},null,512),[[t.Jo,l.username]])]),(0,a.Lk)("div",u,[(0,a.bo)((0,a.Lk)("input",{class:"wrapper__input__content",placeholder:"请输入密码",type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>l.password=e)},null,512),[[t.Jo,l.password]])]),(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("input",{class:"wrapper__input__content",placeholder:"确认密码",type:"password","onUpdate:modelValue":s[2]||(s[2]=e=>l.ensurement=e)},null,512),[[t.Jo,l.ensurement]])]),(0,a.Lk)("div",{class:"wrapper__register-button",onClick:s[3]||(s[3]=(...e)=>l.handleRegister&&l.handleRegister(...e))},"注册"),(0,a.Lk)("div",{class:"wrapper__register-link",onClick:s[4]||(s[4]=(...e)=>l.handleLoginClick&&l.handleLoginClick(...e))},"已有账号去登录"),l.show?((0,a.uX)(),(0,a.Wv)(d,{key:0,message:l.toastMessage},null,8,["message"])):(0,a.Q3)("",!0)])}n(4114);var c=n(1387),i=n(144),d=n(5067),g=n(373);const w=e=>{const s=(0,c.rd)(),n=(0,i.Kh)({username:"",password:"",ensurement:""}),a=async()=>{try{const a=await(0,d.b)("/api/register",{username:n.username,password:n.password});0===a?.errno?(s.push({name:"Login"}),e("注册成功")):e("用户名已存在")}catch(a){console.log(a),e("请求失败")}},{username:t,password:r,ensurement:o}=(0,i.QW)(n);return{username:t,password:r,ensurement:o,handleRegister:a}};var m={name:"Register",components:{Toast:g.A},setup(){const{show:e,toastMessage:s,showToast:n}=(0,g.g)(),a=(0,c.rd)(),{username:t,password:r,ensurement:o,handleRegister:u}=w(n),p=()=>{a.push({name:"Login"})};return{handleLoginClick:p,username:t,password:r,ensurement:o,handleRegister:u,show:e,toastMessage:s,showToast:n}}},h=n(1241);const _=(0,h.A)(m,[["render",l],["__scopeId","data-v-3e773d54"]]);var k=_}}]);
//# sourceMappingURL=register_123123.76eef6f9.js.map